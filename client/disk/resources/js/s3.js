!function(e,r){"use strict";var n,t=e.Simple=e.Simple||{},o=0,i={},u={},a={INIT:"initialize",SUCCESS:"success"},l=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),c=!l&&"undefined"!=typeof importScripts,d=!("undefined"==typeof module||!module.exports),s=0;if(l){var f=navigator.userAgent;f.indexOf("MSIE")>=0&&(s=parseInt(/msie\s+(\d+)/gi.exec(navigator.userAgent)[1]))}var p=!1;d&&"win32"===process.platform&&(p=!0);var h=function(e,r){var n=this;"string"==typeof e&&(e={name:e}),n.name=e.name,n.checkName(),n.config=e,n.callback=r,n.root=e.root,n.requires=[],n.module={id:e.name,filename:h.source(e.name),exports:{},parent:null,loaded:!1},n.loaded=!1,n.require=e.require||null,n.requireCount=e.require?e.require.length:0,n.exports={},n.checkDefine()||n.init()};h.prototype={init:function(){var e=this;o++,i[e.name]=e,(1===o||e.root)&&(n=e),d?e.requireHandle():setTimeout(function(){e.requireHandle.call(e),e=null},h.DELAY_TIME)},requireHandle:function(){var e,r=this;if(r.require&&r.require.length>0)for(var n=r.require,t=0,o=n.length;o>t;t++)e=h.path(r.name,n[t]),-1===r.requires.indexOf(e)&&r.requires.push(e),r.loadModuleHandle(e);else r.requireSuccess()},loadModuleHandle:function(e){var r=this,n=setTimeout(function(){throw"timeout 模块加载超时 "+h.TIMEOUT_DEFAULT/1e3+"秒 "+e+"\n"+h.source(e)},h.TIMEOUT_DEFAULT),t=function(){clearTimeout(n),--r.requireCount||r.requireSuccess(),r=null};r.checkDefine(e)?t():h.loader(e,t)},requireSuccess:function(){--o||n.success()},success:function(e){var r=this;return r.loaded||(r.loaded=!0,e&&(r.module.parent=e),r.callbackHandle(),r.exports=r.module.exports,r.module.loaded=!0),r},callbackHandle:function(){var e=this;e.callback&&e.callback(function(){return h.require.apply(e,arguments)},e.module,e.module.exports,t)},getExports:function(){return this.exports},checkName:function(){if("string"!=typeof this.name||!this.name)throw"module 模块必须有名字"},checkDefine:function(e){return i[e||this.name]!==r},constructor:h},h.source=function(e,r,n){return p&&0===e.search(/^\w:\\/gi)?e.replace(/\//gi,"\\"):e?0===e.indexOf("http")||-1===e.indexOf(":")?e:t.config?(e=e.split(":"),(n||t.config.packages)[e[0]]+(e[1]||"")+(null===r?"":r||".js")):null:void 0},h.normalize=function(e){var r=/^(http:\/\/|https:\/\/|[\/]{2}[^\/]+[\/]+[^\/]+)?([\/])?([\s\S]*?)$/,n=function(e){var n=r.exec(e),t=n[1]||"";return{device:t,isAbsolute:!!n[2],tail:n[3]}},t=function(e,r){for(var n=[],t=0;t<e.length;t++){var o=e[t];o&&"."!==o&&(".."===o?n.length&&".."!==n[n.length-1]?n.pop():r&&n.push(".."):n.push(o))}return n},o=function(e){var r=n(e),o=r.device,i=r.isAbsolute,u=r.tail,a=/[\/]$/.test(u);return u=t(u.split(/[/:]+/),!i).join("/"),u||i||(u="."),u&&a&&(u+="/"),o+(i?"/":"")+u};return o(e)},h.path=function(e,r){return 0===r.indexOf(".")&&(r=h.normalize(e.replace(/(\/|:)[\w-]*$/gi,"/")+r).replace(/\.\//gi,"/").replace(/(^[^\/]+)\//gi,"$1:")),r},h.browser=function(e,r){var n=h.source(e),t=u[n];if(t)t.state===a.SUCCESS?r():t.callback.push(r);else{var o=document.createElement("script");o.src=n,u[n]={state:a.INIT,callback:[r]};var i=function(){o=null;for(var e=u[n].callback,r=0,t=e.length;t>r;r++)e[r](n);u[n].callback=[],u[n].state=a.SUCCESS};"onload"in o?(o.onload=i,o.onerror=function(){throw"file 文件加载失败 "+n}):o.attachEvent("onreadystatechange",function(){"loaded"!==o.readyState&&"complete"!==o.readyState||i()}),document.head.appendChild(o)}},h.webWorker=function(e,r){self.importScripts(h.source(e)),r()},h.nodeJS=function(e,r){t.require(e),r()},h.require=function(e){if(-1===e.indexOf(":")&&0===e.search(/\w/gi))return d?require(e):null;var r=this,n=r.name;e=h.path(n,e);var t=i[e];if(t)return t.success(r.module).getExports();if(d)return require(h.source(e));throw"require 找不到模块 "+e+"\n filename: "+r.module.filename+"\n name: "+n},h.loader=function(e,r){var n=".js",t=e.replace(/^.*\//gi,"");t.indexOf(".")>-1&&(n=/\.\w+$/gi.exec(t),n&&(n=n[0])),l?h.loader.define.browser[n](e,r):c?h.loader.define.webWorker[n](e,r):d&&h.loader.define.node[n](e,r)},h.depend=function(e){var r,n=[],t=i[e];if(t){var o=t.requires;if(o.length)for(var u=0,a=o.length;a>u;u++)r=o[u],r!==e&&(n.push(r),n=n.concat(h.depend(r)))}return n},h.loader.define={browser:{".js":h.browser},webWorker:{".js":h.webWorker},node:{".js":h.nodeJS}},h.TIMEOUT_DEFAULT=6e3,h.DELAY_TIME=0,t.Module=function(e,r){return new h(e,r)},t.Module.setTimeout=function(e){h.TIMEOUT_DEFAULT=e},t.Module.loader=function(e,r,n){h.loader.define[n][e]=r},t.Module.cache=i,t.Module.path=h.path,t.Module.path.normalize=h.normalize,t.Module.path.source=h.source,t.Module.depend=h.depend,t.platform={browser:l,webWorker:c,node:d,ie:s}}("undefined"!=typeof global?global:window);